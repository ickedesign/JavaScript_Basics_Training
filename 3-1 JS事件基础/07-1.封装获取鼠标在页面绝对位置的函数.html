<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>7.封装获取鼠标在页面绝对位置的函数</title>
	<style>
		#box{
			width:100px;
			height:100px;
			background:yellow;
			position:absolute;
		}
	</style>
	<script>
		window.onload=function(){
			function getPos(ev){
				var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;
				var scrollLeft=document.documentElement.scrollLeft||document.body.scrollLeft;
				return {x: ev.clientX+scrollLeft, y: ev.clientY+scrollTop};
			}

			document.onmousemove=function(ev){
				var oBox=document.getElementById('box');
				var oEv=ev||event;
				var pos=getPos(oEv);
				oBox.style.left=pos.x+'px';
				oBox.style.top=pos.y+'px';
			}
		}
	</script>
</head>

<body style="height:1000px;width:3000px">
	<div id="box"></div>
</body>
</html>